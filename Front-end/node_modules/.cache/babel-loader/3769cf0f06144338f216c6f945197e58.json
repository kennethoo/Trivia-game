{"ast":null,"code":"var _jsxFileName = \"/Users/kenneth/Desktop/react-project/lanch/src/component/chat.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { IoCloseSharp, IoSendSharp } from \"react-icons/io5\";\nimport { connect } from \"react-redux\";\nimport socket from \"../socketconf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Chat extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chat: [],\n      message: \"\"\n    };\n\n    this.realTimeMessage = () => {\n      socket.on(\"new-meesage\", data => {\n        console.log(data);\n        let messages = this.state.chat;\n        messages.push(data);\n        this.setState({\n          chat: messages\n        });\n      });\n    };\n\n    this.addMessage = e => {\n      this.setState({\n        message: e.target.textContent\n      });\n    };\n\n    this.sendMessage = () => {\n      if (this.state.message.length > 0) {\n        socket.emit(\"message\", {\n          room: this.props.roomId,\n          message: this.state.message,\n          name: this.props.username\n        });\n        this.setState({\n          message: \"\"\n        });\n        document.querySelector(\".hold-message\").innerHTML = \"\";\n      }\n    };\n\n    this.componentWillUnmount = () => {\n      socket.off(\"new-meesage\");\n    };\n\n    this.componentDidMount = () => {\n      this.realTimeMessage();\n      this.setState({\n        message: `${this.props.username} just join`\n      }, () => {\n        this.sendMessage();\n      });\n    };\n  }\n\n  render() {\n    var _this$state$chat;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char0-box-class\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chat-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"head-chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-chat\",\n            children: /*#__PURE__*/_jsxDEV(IoCloseSharp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"CHAT ROOM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"chat-content\",\n          children: (_this$state$chat = this.state.chat) === null || _this$state$chat === void 0 ? void 0 : _this$state$chat.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"char-room-box\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wraprtt\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"name-people\",\n                  children: [\" \", item.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 16\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"conversationt\",\n                  children: item.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 16\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 12\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type-message-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"watpr-contnr-mem\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrappe-mmeshe\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                contentEditable: \"true\",\n                suppressContentEditableWarning: true,\n                onKeyUp: this.addMessage,\n                \"data-placeholder\": \"Type a message...\",\n                className: \"hold-message noped\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 6\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"send-hold fnjjrjr\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: this.sendMessage,\n                  children: /*#__PURE__*/_jsxDEV(IoSendSharp, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 92\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginAthification: data => {\n      dispatch({\n        type: \"JOIN\",\n        data: data\n      });\n    }\n  };\n};\n\nconst mapstateToProps = state => {\n  return {\n    connected: state.connected,\n    username: state.username,\n    roomId: state.roomId\n  };\n};\n\nexport default connect(mapstateToProps, mapDispatchToProps)(withRouter(Chat));","map":{"version":3,"sources":["/Users/kenneth/Desktop/react-project/lanch/src/component/chat.js"],"names":["React","Component","withRouter","IoCloseSharp","IoSendSharp","connect","socket","Chat","state","chat","message","realTimeMessage","on","data","console","log","messages","push","setState","addMessage","e","target","textContent","sendMessage","length","emit","room","props","roomId","name","username","document","querySelector","innerHTML","componentWillUnmount","off","componentDidMount","render","map","item","index","mapDispatchToProps","dispatch","loginAthification","type","mapstateToProps","connected"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport {withRouter} from \"react-router-dom\"\nimport { IoCloseSharp ,IoSendSharp} from \"react-icons/io5\";\nimport {connect} from \"react-redux\"\nimport socket from \"../socketconf\";\nclass Chat extends Component {\n    state={\nchat:[],\nmessage:\"\"\n    }\n\n    realTimeMessage=()=>{\nsocket.on(\"new-meesage\",(data)=>{\n    console.log(data)\n    let messages= this.state.chat\n    messages.push(data)\n    this.setState({\n        chat:messages\n    })\n})\n    }\n    addMessage=(e)=>{\nthis.setState({\n    message:e.target.textContent\n})\n    }\n    sendMessage=()=>{\n\n        if(this.state.message.length>0){\n        socket.emit(\"message\",{room:this.props.roomId,message:this.state.message,name:this.props.username})\n        this.setState({\n            message:\"\"\n        })\n        document.querySelector(\".hold-message\").innerHTML=\"\"\n        }\n\n    }\n    componentWillUnmount=()=>{\n        socket.off(\"new-meesage\")\n    }\n    componentDidMount=()=>{\n        this.realTimeMessage()\n        this.setState({\n            message:`${this.props.username} just join`\n        },()=>{\n            this.sendMessage()\n        })\n\n    }\n    render(){\n        return (\n            <div className=\"char0-box-class\">\n            <div id=\"chat-box\">\n             <div id=\"head-chat\">\n        <button className=\"close-chat\">\n      <IoCloseSharp/>\n       </button>\n       <p>CHAT ROOM</p>\n        </div>\n       <div id=\"chat-content\">  \n       {this.state.chat?.map((item,index)=>{\n           return(\n            <div key={index} className=\"char-room-box\">\n           {/*<div className=\"icon\"></div>*/}\n           <div className=\"wraprtt\">\n               <div className=\"name-people\"> {item.name}</div>\n               <div className=\"conversationt\"> \n               {item.message}\n               </div>\n           </div>\n       </div>\n           )\n       })}\n     \n       </div> \n       <div className=\"type-message-box\">\n\t\t\t\t<div className=\"watpr-contnr-mem\">\n\t\t\t\t\t<div className=\"wrappe-mmeshe\">\n\t\t\t\t\t<div contentEditable=\"true\"   suppressContentEditableWarning={true} onKeyUp={this.addMessage} data-placeholder=\"Type a message...\" className=\"hold-message noped\"></div>\n                    <div className=\"send-hold fnjjrjr\"><button onClick={this.sendMessage} ><IoSendSharp/></button></div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n            </div>\n        \n            </div>\n        )\n    }\n}\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n      loginAthification:(data)=>{\n        dispatch({ type:\"JOIN\", data:data})\n      },\n      \n    }\n      }\n      const mapstateToProps=(state)=>{\n        return{\n            connected:state.connected,\n            username:state.username,\n            roomId:state.roomId\n        }\n        }\n    export default  connect(mapstateToProps,mapDispatchToProps) (withRouter(Chat))"]},"metadata":{},"sourceType":"module"}