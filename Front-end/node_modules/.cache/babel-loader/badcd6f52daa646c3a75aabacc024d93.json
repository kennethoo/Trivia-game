{"ast":null,"code":"import _classCallCheck from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import socket from\"../socketconf\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConnectCom=/*#__PURE__*/function(_Component){_inherits(ConnectCom,_Component);var _super=_createSuper(ConnectCom);function ConnectCom(){var _this;_classCallCheck(this,ConnectCom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={click:false,username:\"\",usernameOneState:false,usernameTwo:\"\",usernameTwoState:false,roomId:\"\",roomIdState:false,messageRoom:\"\"};_this.createARoom=function(){if(_this.state.username.length>2){_this.setState({usernameOneState:false});_this.beginConnection();}else{_this.setState({usernameOneState:true});}};_this.beginConnection=function(){var username=_this.state.username;socket.auth={username:username};socket.connect();_this.reatimeConetion();socket.emit(\"create-game\",_this.state.username);};_this.joinGame=function(){if(_this.state.username.length>2){_this.setState({usernameTwoState:false});}else{_this.setState({usernameTwoState:true});}if(_this.state.roomId.length>0){_this.setState({roomIdState:false,messageRoom:\"\"});}else{_this.setState({roomIdState:true,messageRoom:\"Room is empty\"});}if(_this.state.username.length>2&&_this.state.roomId.length>0){_this.joinRoom();}};_this.joinRoom=function(){if(_this.state.click===false){var username=_this.state.username;socket.auth={username:username};socket.connect();_this.reatimeConetion();_this.setState({click:true});}socket.emit(\"join-game\",_this.state.roomId);};_this.reatimeConetion=function(){socket.on(\"connected-succed-join\",function(room){_this.props.loginAthification({connected:true,room:room,username:_this.state.username});_this.props.history.push(\"/joingame\");});socket.on(\"connected-succed\",function(room){_this.props.loginAthification({connected:true,room:room,username:_this.state.username});_this.props.history.push(\"/creategame\");});socket.on(\"join-connect-error\",function(){_this.setState({roomIdState:true,messageRoom:\"Room does not exist\"});});};_this.handleChange=function(e){if(e.target.name===\"usernameOne\"){_this.setState({username:e.target.value.trim()});}if(e.target.name===\"roomId\"){_this.setState({roomId:e.target.value.trim()});}};_this.componentDidMount=function(){socket.off(\"connected-succed\");};return _this;}_createClass(ConnectCom,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"box-prsent-game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titk\",children:\"CS Trivia\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-game\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box-profile\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange,className:\"username-profile\",type:\"text\",name:\"usernameOne\",placeholder:\"John Doe\"})]}),this.state.usernameOneState?/*#__PURE__*/_jsx(\"div\",{className:\"message-password\",children:\"Username minimum length is 3\"}):\"\",/*#__PURE__*/_jsx(\"button\",{className:\"butttin-action\",onClick:this.createARoom,children:\"Create\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hold--tr\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Or\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"join-a-party\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box-profile\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange,className:\"username-profile\",type:\"text\",name:\"usernameOne\",placeholder:\"John Doe\"})]}),this.state.usernameTwoState?/*#__PURE__*/_jsx(\"div\",{className:\"message-password\",children:\"Username minimum length is 3\"}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box-profile\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Join a party\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange,className:\"username-profile\",type:\"text\",name:\"roomId\",placeholder:\"#code..\"})]}),this.state.roomIdState?/*#__PURE__*/_jsx(\"div\",{className:\"message-password\",children:this.state.messageRoom}):\"\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.joinGame,className:\"butttin-action\",children:\"JOin\"})]});}}]);return ConnectCom;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loginAthification:function loginAthification(data){dispatch({type:\"JOIN\",data:data});}};};var mapstateToProps=function mapstateToProps(state){return{connected:state.connected};};export default connect(mapstateToProps,mapDispatchToProps)(withRouter(ConnectCom));","map":{"version":3,"sources":["/Users/kenneth/Desktop/react-project/lanch/src/component/connect.js"],"names":["React","Component","withRouter","connect","socket","ConnectCom","state","click","username","usernameOneState","usernameTwo","usernameTwoState","roomId","roomIdState","messageRoom","createARoom","length","setState","beginConnection","auth","reatimeConetion","emit","joinGame","joinRoom","on","room","props","loginAthification","connected","history","push","handleChange","e","target","name","value","trim","componentDidMount","off","mapDispatchToProps","dispatch","data","type","mapstateToProps"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport {withRouter} from \"react-router-dom\"\nimport {connect} from \"react-redux\"\nimport socket from \"../socketconf\";\nclass ConnectCom extends Component{\n    state={\n        click:false,\nusername:\"\",\nusernameOneState:false,\nusernameTwo:\"\",\nusernameTwoState:false,\nroomId:\"\",\nroomIdState:false,\nmessageRoom:\"\"\n    }\n\n    createARoom=()=>{\n        if(this.state.username.length>2){\n            this.setState({\n                usernameOneState:false \n            })\n            this.beginConnection()\n        }else{\n            this.setState({\n                usernameOneState:true \n            })\n        }\n    }\n    beginConnection=()=>{\n        let username=this.state.username\n        socket.auth = {username};\n        socket.connect()\n        this.reatimeConetion()\n        socket.emit(\"create-game\",this.state.username)\n    }\njoinGame=()=>{\nif(this.state.username.length>2){\n    this.setState({\n        usernameTwoState:false \n    })\n}else{\n    this.setState({\n        usernameTwoState:true \n    }) \n}\n\nif(this.state.roomId.length>0){\n    this.setState({\n        roomIdState:false ,\n        messageRoom:\"\"\n    })\n}else{\n    this.setState({\n        roomIdState:true ,\n        messageRoom:\"Room is empty\"\n    })\n}\n\nif(this.state.username.length>2&& this.state.roomId.length>0){\n    this.joinRoom()\n}\n}\njoinRoom=()=>{\n    if(this.state.click===false){\n        let username=this.state.username\n        socket.auth = {username};\n        socket.connect()\n        this.reatimeConetion()\n        this.setState({\n            click:true\n        })\n    }\n    socket.emit(\"join-game\",this.state.roomId)\n}\n\n\n    reatimeConetion=()=>{\n        socket.on(\"connected-succed-join\",((room)=>{\n            this.props.loginAthification({ connected:true,room:room,username:this.state.username})\n            this.props.history.push(\"/joingame\")\n        }))\n        socket.on(\"connected-succed\",((room)=>{\n            this.props.loginAthification({connected:true,room:room,username:this.state.username})\n            this.props.history.push(\"/creategame\")\n        }))\n        socket.on(\"join-connect-error\",()=>{\n            this.setState({\n                roomIdState:true,\n                messageRoom:\"Room does not exist\"\n            })\n        })\n    }\n    handleChange=(e)=>{\nif(e.target.name===\"usernameOne\"){\nthis.setState({\n    username:e.target.value.trim()\n})\n}\nif(e.target.name===\"roomId\"){\n    this.setState({\n        roomId:e.target.value.trim()\n    })\n    }\n    }\n \n    componentDidMount=()=>{\n        socket.off(\"connected-succed\")\n    }\n    render(){\n        return(\n            <div className=\"box-prsent-game\">\n                <div className=\"titk\">\n                 CS Trivia\n                </div>\n                <div className=\"create-game\">\n                <div className=\"edit-box-profile\">\n\t\t\t   <label htmlFor=\"username\">Username</label>\n\t<input  onChange={this.handleChange}  className=\"username-profile\"  type=\"text\" name=\"usernameOne\" placeholder=\"John Doe\"  />\n\t\t\t  </div>\n              {this.state.usernameOneState?<div  className=\"message-password\">Username minimum length is 3</div>:\"\"}\n             \n                   <button className=\"butttin-action\" onClick={this.createARoom}>Create</button>\n                </div>\n                <div className=\"hold--tr\">\n                    <div className=\"bar\"></div>\n                    <p>Or</p>\n                    <div className=\"bar\"></div>\n                </div>\n                <div className=\"join-a-party\">\n                <div className=\"edit-box-profile\">\n\t\t\t   <label htmlFor=\"username\">Username</label>\n\t<input  onChange={this.handleChange}  className=\"username-profile\"  type=\"text\" name=\"usernameOne\" placeholder=\"John Doe\"  />\n\t\t\t  </div>\n              {this.state.usernameTwoState?<div  className=\"message-password\">Username minimum length is 3</div>:\"\"}\n                <div className=\"edit-box-profile\">\n\t\t\t   <label htmlFor=\"username\">Join a party</label>\n\t<input  onChange={this.handleChange}  className=\"username-profile\"  type=\"text\" name=\"roomId\" placeholder=\"#code..\"  />\n\t\t\t  </div>\n              {this.state.roomIdState?<div  className=\"message-password\">{this.state.messageRoom}</div>:\"\"}\n                </div>\n                <button onClick={this.joinGame} className=\"butttin-action\" >JOin</button>\n            </div>\n        )\n    }\n}   \n\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n      loginAthification:(data)=>{\n        dispatch({ type:\"JOIN\", data:data})\n      },\n      \n    }\n      }\n      const mapstateToProps=(state)=>{\n        return{\n            connected:state.connected\n        }\n        }\n        \nexport default connect(mapstateToProps,mapDispatchToProps) (withRouter(ConnectCom))"]},"metadata":{},"sourceType":"module"}