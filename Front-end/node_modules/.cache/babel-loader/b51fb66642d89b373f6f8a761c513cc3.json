{"ast":null,"code":"var _jsxFileName = \"/Users/kenneth/Desktop/react-project/lanch/src/page/create.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport Chat from \"../component/chat\";\nimport question from \"../question\";\nimport { connect } from \"react-redux\";\nimport { BsFillChatFill } from \"react-icons/bs\";\nimport CountDown from \"../component/coutDown\";\nimport socket from \"../socketconf\";\nimport { IoCloseSharp, IoSendSharp } from \"react-icons/io5\";\nimport Leaderboard from \"../component/leaderboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet time = null;\nlet realTimeLeaderboardState = {};\n\nclass Create extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: 0,\n      message: true,\n      game: false,\n      start: false,\n      leaderboard: false,\n      awnser: \"5\",\n      currentCount: 8,\n      correctAwnser: \"5\",\n      liveCounter: 11,\n      check: false,\n      currentQuestion: {},\n      currentScore: 0,\n      begin: false,\n      displayCount: false,\n      leadB: [],\n      chat: false\n    };\n\n    this.realTime = () => {\n      socket.on(\"beginTheGame\", () => {\n        this.setState({\n          displayCount: true\n        });\n        setTimeout(() => {\n          this.setState({\n            game: true\n          }, () => {\n            document.querySelector(\"#containerr\").scrollTop = document.querySelector(\"#containerr\").scrollHeight;\n            this.setState({\n              displayCount: false\n            }, () => {\n              this.startTheGame();\n              this.setState({});\n            });\n          });\n        }, 4000);\n      });\n      socket.on(\"update-score\", data => {\n        if (realTimeLeaderboardState[data.name]) {\n          realTimeLeaderboardState[data.name] = Math.max(realTimeLeaderboardState[data.name], data.score);\n        } else {\n          realTimeLeaderboardState[data.name] = data.score;\n        }\n      });\n    };\n\n    this.playTheGame = () => {\n      if (this.state.start === false) {\n        this.setState({\n          start: true\n        }, () => {\n          socket.emit(\"start-game\", this.props.roomId);\n        });\n      }\n    };\n\n    this.buildCounter = duration => {\n      var timer = duration,\n          minutes,\n          seconds;\n      minutes = parseInt(timer / 60, 10);\n      seconds = parseInt(timer % 60, 10);\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      seconds = seconds < 10 ? \"0\" + seconds : seconds; //display.textContent = minutes + \":\" + seconds;\n\n      if (--timer < 0) {\n        return \"00:00\";\n      } else {\n        return minutes + \":\" + seconds;\n      }\n    };\n\n    this.componentWillUnmount = () => {\n      socket.off(\"beginTheGame\");\n      socket.off(\"update-score\");\n      socket.emit(\"remove-room\", this.props.roomId);\n    };\n\n    this.componentDidMount = () => {\n      if (!this.props.connected) this.props.history.push(\"/\");\n      this.setState({\n        roomId: this.props.roomId,\n        currentQuestion: question[this.state.currentCount]\n      });\n      this.realTime();\n    };\n\n    this.checkAwnser = () => {\n      this.setState({\n        check: true,\n        correctAwnser: this.state.currentQuestion.awnser\n      });\n\n      if (this.state.awnser !== \"5\") {\n        if (this.state.awnser === this.state.correctAwnser) {\n          let curentScore = this.state.currentScore;\n          curentScore += 10;\n          this.setState({\n            currentScore: curentScore\n          });\n        }\n      } else {}\n\n      socket.emit('new-score', {\n        room: this.props.roomId,\n        name: this.props.username,\n        score: this.state.currentScore\n      });\n      setTimeout(() => {\n        this.setState({\n          liveCounter: 11\n        }, () => {\n          this.moveNext();\n\n          if (this.state.currentCount + 1 !== question.length) {\n            this.callTheGame();\n          }\n        });\n      }, 5000);\n    };\n\n    this.showLeaderBoard = () => {\n      let currentLeaderBoard = [];\n\n      for (let key in realTimeLeaderboardState) {\n        currentLeaderBoard.push({\n          name: key,\n          score: realTimeLeaderboardState[key]\n        });\n      }\n\n      currentLeaderBoard.sort((a, b) => b.score - a.score);\n      this.setState({\n        leadB: currentLeaderBoard\n      }, () => {\n        this.displayLeaderboad();\n      });\n    };\n\n    this.displayLeaderboad = () => {\n      this.setState({\n        leaderboard: true\n      }, () => {\n        document.querySelector(\"#containerr\").scrollTop = document.querySelector(\"#containerr\").scrollHeight;\n      });\n    };\n\n    this.moveNext = () => {\n      if (this.state.currentCount + 1 !== question.length) {\n        this.setState({\n          awnser: \"5\",\n          correctAwnser: \"5\",\n          check: false,\n          currentCount: this.state.currentCount + 1,\n          currentQuestion: question[this.state.currentCount + 1]\n        });\n      } else {\n        this.showLeaderBoard();\n      }\n    };\n\n    this.handleClick = e => {\n      this.setState({\n        awnser: e.target.id,\n        correctAwnser: this.state.currentQuestion.awnser\n      });\n    };\n\n    this.callTheGame = () => {\n      time = setInterval(() => {\n        if (this.state.liveCounter === 1) {\n          clearInterval(time);\n          this.setState({\n            liveCounter: 0\n          }, () => {\n            this.checkAwnser();\n          });\n        } else {\n          this.setState({\n            liveCounter: this.state.liveCounter - 1\n          });\n        }\n      }, 1000);\n    };\n\n    this.openChat = data => {\n      this.setState({\n        chat: data\n      });\n    };\n\n    this.startTheGame = () => {\n      this.callTheGame();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createe-user\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"containerr\",\n        children: [/*#__PURE__*/_jsxDEV(CountDown, {\n          displayCount: this.state.displayCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"createe\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"back-page\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 19\n        }, this), this.state.message ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"message\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            id: \"header\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"user-game-name\",\n              children: \"CS Trivia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"code\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"message-game\",\n              children: \"Click start when you are ready\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"box-room\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"h3\",\n                children: \"Room Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"room-id\",\n                children: this.state.roomId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 43\n              }, this), this.state.start === false ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.playTheGame,\n                className: \"butttin-action\",\n                children: \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 47\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"ready-box\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"text-redy\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"overlay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"people-connected\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"closes\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"test-descrb-people\",\n              children: \"Player \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"title-name-conected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"list\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"list-people\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  id: \"ico\",\n                  className: \"far fa-user-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"name-connected\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    id: \"name-user-conec\",\n                    children: this.props.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    id: \"host\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 36\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 40\n        }, this) : \"\", this.state.game ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"game\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            id: \"head\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"online-user\",\n              children: this.props.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"point\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"coin\",\n                children: this.state.currentScore\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"online-game\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"timeur\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"time\",\n                children: this.buildCounter(this.state.liveCounter)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"question\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"imgpp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"curentquest\",\n                children: this.state.currentQuestion.question\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"wraper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"one\",\n                  className: \"awnser\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: this.handleClick,\n                    id: \"1\",\n                    className: `awnsers ${this.state.awnser === \"1\" ? \"selected\" : \"\"}   ${this.state.check ? this.state.correctAwnser === \"1\" ? \"correct\" : \"\" : \"\"} ${this.state.check ? this.state.awnser === \"1\" && this.state.awnser !== this.state.correctAwnser ? \"incorect\" : \"\" : \"\"}`,\n                    children: this.state.currentQuestion.choiceOne\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 8\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"two\",\n                  className: \"awnser\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: this.handleClick,\n                    id: \"2\",\n                    className: `awnsers ${this.state.awnser === \"2\" ? \"selected\" : \"\"}   ${this.state.check ? this.state.correctAwnser === \"2\" ? \"correct\" : \"\" : \"\"} ${this.state.check ? this.state.awnser === \"2\" && this.state.awnser !== this.state.correctAwnser ? \"incorect\" : \"\" : \"\"}`,\n                    children: this.state.currentQuestion.choiceTwo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 8\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"three\",\n                  className: \"awnser\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: this.handleClick,\n                    id: \"3\",\n                    className: `awnsers ${this.state.awnser === \"3\" ? \"selected\" : \"\"}   ${this.state.check ? this.state.correctAwnser === \"3\" ? \"correct\" : \"\" : \"\"}  ${this.state.check ? this.state.awnser === \"3\" && this.state.awnser !== this.state.correctAwnser ? \"incorect\" : \"\" : \"\"} `,\n                    children: this.state.currentQuestion.choiceThree\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 8\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"four\",\n                  className: \"awnser\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: this.handleClick,\n                    id: \"4\",\n                    className: `awnsers ${this.state.awnser === \"4\" ? \"selected\" : \"\"}   ${this.state.check ? this.state.correctAwnser === \"4\" ? \"correct\" : \"\" : \"\"}     ${this.state.check ? this.state.awnser === \"4\" && this.state.awnser !== this.state.correctAwnser ? \"incorect\" : \"\" : \"\"}`,\n                    children: this.state.currentQuestion.choicefour\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 8\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"questionleft\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"current-bar\",\n                children: [this.state.currentCount + 1, \"/\", question.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: `${(this.state.currentCount + 1) * 100 / question.length}%`\n                },\n                id: \"bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 38\n        }, this) : \"\", this.state.leaderboard ? /*#__PURE__*/_jsxDEV(Leaderboard, {\n          leadBoard: this.state.leadB\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 32\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ktnlet\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.openChat(!this.props.open);\n            },\n            className: \"close-chat\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(BsFillChatFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 100\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Chat, {\n        openChat: this.openChat,\n        open: this.state.chat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginAthification: data => {\n      dispatch({\n        type: \"JOIN\",\n        data: data\n      });\n    }\n  };\n};\n\nconst mapstateToProps = state => {\n  return {\n    connected: state.connected,\n    roomId: state.roomId,\n    username: state.username\n  };\n};\n\nexport default connect(mapstateToProps, mapDispatchToProps)(withRouter(Create));","map":{"version":3,"sources":["/Users/kenneth/Desktop/react-project/lanch/src/page/create.js"],"names":["React","Component","withRouter","Chat","question","connect","BsFillChatFill","CountDown","socket","IoCloseSharp","IoSendSharp","Leaderboard","time","realTimeLeaderboardState","Create","state","currentUser","message","game","start","leaderboard","awnser","currentCount","correctAwnser","liveCounter","check","currentQuestion","currentScore","begin","displayCount","leadB","chat","realTime","on","setState","setTimeout","document","querySelector","scrollTop","scrollHeight","startTheGame","data","name","Math","max","score","playTheGame","emit","props","roomId","buildCounter","duration","timer","minutes","seconds","parseInt","componentWillUnmount","off","componentDidMount","connected","history","push","checkAwnser","curentScore","room","username","moveNext","length","callTheGame","showLeaderBoard","currentLeaderBoard","key","sort","a","b","displayLeaderboad","handleClick","e","target","id","setInterval","clearInterval","openChat","render","choiceOne","choiceTwo","choiceThree","choicefour","width","open","mapDispatchToProps","dispatch","loginAthification","type","mapstateToProps"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport {withRouter} from \"react-router-dom\"\nimport Chat  from \"../component/chat\"\nimport question  from \"../question\"\nimport {connect} from \"react-redux\"\nimport { BsFillChatFill } from \"react-icons/bs\";\nimport CountDown  from \"../component/coutDown\"\nimport socket from \"../socketconf\";\nimport { IoCloseSharp ,IoSendSharp} from \"react-icons/io5\";\nimport Leaderboard from \"../component/leaderboard\"\nlet time=null\nlet realTimeLeaderboardState={}\nclass Create extends Component {\n    state={\n        currentUser:0,\n        message:true,\n        game:false,\n        start:false,\n        leaderboard:false,\n        awnser:\"5\",\n        currentCount:8,\n        correctAwnser:\"5\",\n        liveCounter:11,\n        check:false,\n        currentQuestion:{},\n        currentScore:0,\n        begin:false,\n        displayCount:false,\n        leadB:[],\n        chat:false\n    }\nrealTime=()=>{\nsocket.on(\"beginTheGame\",()=>{\nthis.setState({\n    displayCount:true  \n})\nsetTimeout(()=>{\n    this.setState({\n        game:true\n    },()=>{\n        document.querySelector(\"#containerr\").scrollTop = document.querySelector(\"#containerr\").scrollHeight\n        this.setState({\n            displayCount:false\n        },()=>{\n            this.startTheGame()\n            this.setState({\n \n            })\n        })\n    })\n\n},4000)\n})\nsocket.on(\"update-score\",(data)=>{\nif(realTimeLeaderboardState[data.name]){\n    realTimeLeaderboardState[data.name]= Math.max(realTimeLeaderboardState[data.name],data.score)\n}else{\n    realTimeLeaderboardState[data.name]=data.score \n}\n})\n}\n\nplayTheGame=()=>{\n    if(this.state.start===false){\nthis.setState({\n    start:true,\n},()=>{\n    socket.emit(\"start-game\",this.props.roomId)\n})\n    }\n}\n buildCounter=(duration)=> {\n        var timer = duration, minutes, seconds;\n        minutes = parseInt(timer / 60, 10);\n        seconds = parseInt(timer % 60, 10);\n        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n        //display.textContent = minutes + \":\" + seconds;\n\n        if (--timer < 0) {\n        return \"00:00\"\n        }else{\n            return minutes + \":\" + seconds\n        }\n\n \n    }\n    componentWillUnmount=()=>{\n        socket.off(\"beginTheGame\")\n        socket.off(\"update-score\")\n        socket.emit(\"remove-room\",this.props.roomId)\n    }\n    componentDidMount=()=>{\n    if(!this.props.connected)this.props.history.push(\"/\")\n        this.setState({\n            roomId:this.props.roomId ,\n            currentQuestion:question[this.state.currentCount],\n        })\n        this.realTime()\n    }\n    checkAwnser=()=>{\n        this.setState({\n            check:true,\n            correctAwnser:this.state.currentQuestion.awnser\n        })\n        if(this.state.awnser!==\"5\"){\n            if(this.state.awnser===this.state.correctAwnser){\n                let curentScore= this.state.currentScore\n                curentScore+=10\n                this.setState({\n                  currentScore:curentScore\n                })\n              } \n        }else{\n\n        }\n        socket.emit('new-score',{room:this.props.roomId,name:this.props.username,score:this.state.currentScore})\n       \n      setTimeout(()=>{\n        this.setState({\n            liveCounter:11\n        },()=>{\n  \n            this.moveNext()\n            if(this.state.currentCount+1!==question.length){\n                this.callTheGame()\n            }\n\n        })\n      },5000)\n    }\nshowLeaderBoard=()=>{\nlet currentLeaderBoard=[]\nfor(let key in realTimeLeaderboardState){\n    currentLeaderBoard.push({name:key,score:realTimeLeaderboardState[key]})   \n}\ncurrentLeaderBoard.sort((a,b)=>b.score-a.score)\nthis.setState({\n    leadB:currentLeaderBoard\n},()=>{\n    this.displayLeaderboad()\n})\n}\n\ndisplayLeaderboad=()=>{\n    this.setState({\n        leaderboard:true,\n    },()=>{\n        document.querySelector(\"#containerr\").scrollTop = document.querySelector(\"#containerr\").scrollHeight\n    })\n\n}\n    moveNext=()=>{\n        if(this.state.currentCount+1!==question.length){\n            this.setState({\n                awnser:\"5\",\n                correctAwnser:\"5\",\n                check:false,\n                currentCount:this.state.currentCount+1,\n                currentQuestion:question[this.state.currentCount+1]\n            })\n        }else{\n          this.showLeaderBoard()\n        }\n        \n    }\n    handleClick=(e)=>{\n  this.setState({\n    awnser:e.target.id,\n    correctAwnser:this.state.currentQuestion.awnser\n  })\n    }\n\n    callTheGame=()=>{\n        time=setInterval(()=>{\n            if(this.state.liveCounter===1){\n                clearInterval(time)\n                this.setState({\n                    liveCounter:0\n                },()=>{\n                    this.checkAwnser()\n                })\n            }else{\n                this.setState({\n                    liveCounter:this.state.liveCounter-1\n                })\n            }\n        },1000)\n    }\n\n    openChat=(data)=>{\n        this.setState({\n            chat:data\n        })\n    }\n  startTheGame=()=>{\nthis.callTheGame()\n  }\n    render(){\n        return (\n            <div className=\"createe-user\">\n                 <div id=\"containerr\"> \n                 <CountDown displayCount={this.state.displayCount}/>\n                  <div id=\"createe\"> \n                  <div id=\"back-page\">\n                  <i className=\"fas fa-chevron-left\">\n                  </i></div> \n                    </div>\n                  {this.state.message? <div id=\"message\">\n                    <header id=\"header\">\n                     {/* <p id=\"numer-client\">{this.state.currentUser}</p>*/}\n                     <p id=\"user-game-name\">CS Trivia</p>\n                    </header>\n                    <div id=\"code\">\n                    <p id=\"message-game\">Click start when you are ready</p>\n                    <div id=\"box-room\">\n                    <p id=\"h3\">Room Id</p><p id=\"room-id\">{this.state.roomId}</p>\n                   {this.state.start===false? <button onClick={this.playTheGame} className=\"butttin-action\" >Start</button>:\"\"}\n                    </div>\n                    </div><div id=\"ready-box\"><p id=\"text-redy\">3</p></div>\n                    <div id=\"overlay\"></div>\n                    <div id=\"people-connected\">\n                    <div className=\"closes\"><p className=\"fas fa-times\"></p></div>\n                    <div id=\"test-descrb-people\">Player </div>\n                    <div id=\"title-name-conected\"></div>\n                    <div id=\"list\"><div className=\"list-people\">\n                    <i id=\"ico\" className=\"far fa-user-circle\"></i>\n                    <div id=\"name-connected\"> \n                    <p id=\"name-user-conec\">{this.props.username}</p> \n                    <p id=\"host\"></p>\n                    </div> \n                    </div></div>\n                    </div>\n                    </div>:\"\"}\n                    {this.state.game?<div id=\"game\">\n                    <header id=\"head\">\n                    <p id=\"online-user\">{this.props.username}</p>\n                    <div id=\"point\">\n                    <p id=\"coin\">{this.state.currentScore}</p>\n                    </div>\n                   \n                    </header>\n                    <div id=\"online-game\"> \n                    <div id=\"timeur\">\n                    <p id=\"time\">{this.buildCounter(this.state.liveCounter)}</p>\n                    </div> \n                    <div id=\"question\">\n         <div id=\"imgpp\"></div>\n        <p id=\"curentquest\">{this.state.currentQuestion.question}</p>\n       </div>\n       <ul>      \n       <div id=\"wraper\">\n       <div id=\"one\" className=\"awnser\">   \n       <li onClick={this.handleClick} id=\"1\" className={`awnsers ${this.state.awnser===\"1\"?\"selected\":\"\" }   ${this.state.check?this.state.correctAwnser===\"1\"?\"correct\":\"\":\"\"} ${this.state.check?this.state.awnser===\"1\" && this.state.awnser!==this.state.correctAwnser?\"incorect\":\"\":\"\"}`   }>{this.state.currentQuestion.choiceOne}</li>\n       </div>\n       <div id=\"two\" className=\"awnser\">\n       <li onClick={this.handleClick} id=\"2\" className={`awnsers ${this.state.awnser===\"2\"?\"selected\":\"\" }   ${this.state.check?this.state.correctAwnser===\"2\"?\"correct\":\"\" :\"\"} ${this.state.check?this.state.awnser===\"2\" && this.state.awnser!==this.state.correctAwnser?\"incorect\":\"\":\"\"}`   }>{this.state.currentQuestion.choiceTwo}</li>\n       </div>\n       <div id=\"three\" className=\"awnser\">\n       <li onClick={this.handleClick} id=\"3\"  className={`awnsers ${this.state.awnser===\"3\"?\"selected\":\"\" }   ${this.state.check?this.state.correctAwnser===\"3\"?\"correct\":\"\":\"\" }  ${this.state.check?this.state.awnser===\"3\" && this.state.awnser!==this.state.correctAwnser?\"incorect\":\"\":\"\"} `   }>{this.state.currentQuestion.choiceThree}</li>\n       </div>\n       <div id=\"four\" className=\"awnser\">\n       <li onClick={this.handleClick} id=\"4\" className={`awnsers ${this.state.awnser===\"4\"?\"selected\":\"\" }   ${this.state.check?this.state.correctAwnser===\"4\"?\"correct\":\"\":\"\" }     ${this.state.check?this.state.awnser===\"4\" && this.state.awnser!==this.state.correctAwnser?\"incorect\":\"\":\"\"}`    }>{this.state.currentQuestion.choicefour}</li>\n       </div>\n       </div>\n       </ul>\n       <div id=\"questionleft\">\n       <p id=\"current-bar\">{this.state.currentCount+1}/{question.length}</p><div style={{width: `${(this.state.currentCount+1)*100/question.length}%`}} id=\"bar\">  \n       </div>\n       </div>\n       </div>\n       </div>:\"\"}\n      {this.state.leaderboard? <Leaderboard leadBoard={this.state.leadB}/>:\"\"}\n      <div className=\"ktnlet\">\n                   <button onClick={()=>{this.openChat(!this.props.open)}} className=\"close-chat\"> <BsFillChatFill/></button>\n                   </div>\n\t\t</div>\n        <Chat openChat={this.openChat} open={this.state.chat}/>\n        </div>\n         \n          \n        )\n    }\n}\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n      loginAthification:(data)=>{\n        dispatch({ type:\"JOIN\", data:data})\n      },\n      \n    }\n      }\n      const mapstateToProps=(state)=>{\n        return{\n            connected:state.connected,\n            roomId:state.roomId,\n            username:state.username\n        }\n        }\n        \nexport default connect(mapstateToProps,mapDispatchToProps) (withRouter(Create))"]},"metadata":{},"sourceType":"module"}