{"ast":null,"code":"import _classCallCheck from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kenneth/Desktop/react-project/lanch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{IoCloseSharp,IoSendSharp}from\"react-icons/io5\";import{connect}from\"react-redux\";import socket from\"../socketconf\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=/*#__PURE__*/function(_Component){_inherits(Chat,_Component);var _super=_createSuper(Chat);function Chat(){var _this;_classCallCheck(this,Chat);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={chat:[],message:\"\"};_this.realTimeMessage=function(){socket.on(\"new-meesage\",function(data){console.log(data);var messages=_this.state.chat;messages.push(data);_this.setState({chat:messages},function(){document.querySelector(\"#chat-content\").scrollTop=document.querySelector(\"#chat-content\").scrollHeight;});});};_this.addMessage=function(e){_this.setState({message:e.target.textContent});};_this.sendMessage=function(){if(_this.state.message.length>0){socket.emit(\"message\",{room:_this.props.roomId,message:_this.state.message,name:_this.props.username});_this.setState({message:\"\"});document.querySelector(\".hold-message\").innerHTML=\"\";}};_this.componentWillUnmount=function(){socket.off(\"new-meesage\");};_this.componentDidMount=function(){_this.realTimeMessage();_this.setState({message:\"\".concat(_this.props.username,\" just join\")},function(){_this.sendMessage();});};return _this;}_createClass(Chat,[{key:\"render\",value:function render(){var _this2=this,_this$state$chat;return/*#__PURE__*/_jsx(\"div\",{className:\"char0-box-class \".concat(this.props.open?\"active\":\"\"),children:/*#__PURE__*/_jsxs(\"div\",{id:\"chat-box\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"head-chat\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this2.props.openChat(!_this2.props.open);},className:\"close-chat\",children:/*#__PURE__*/_jsx(IoCloseSharp,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"CHAT ROOM\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"chat-content\",children:(_this$state$chat=this.state.chat)===null||_this$state$chat===void 0?void 0:_this$state$chat.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"char-room-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wraprtt\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-people\",children:[\" \",item.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"conversationt\",children:item.message})]})},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"type-message-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"watpr-contnr-mem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrappe-mmeshe\",children:[/*#__PURE__*/_jsx(\"div\",{contentEditable:\"true\",suppressContentEditableWarning:true,onKeyUp:this.addMessage,\"data-placeholder\":\"Type a message...\",className:\"hold-message noped\"}),/*#__PURE__*/_jsx(\"div\",{className:\"send-hold fnjjrjr\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.sendMessage,children:/*#__PURE__*/_jsx(IoSendSharp,{})})})]})})})]})});}}]);return Chat;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loginAthification:function loginAthification(data){dispatch({type:\"JOIN\",data:data});}};};var mapstateToProps=function mapstateToProps(state){return{connected:state.connected,username:state.username,roomId:state.roomId};};export default connect(mapstateToProps,mapDispatchToProps)(withRouter(Chat));","map":{"version":3,"sources":["/Users/kenneth/Desktop/react-project/lanch/src/component/chat.js"],"names":["React","Component","withRouter","IoCloseSharp","IoSendSharp","connect","socket","Chat","state","chat","message","realTimeMessage","on","data","console","log","messages","push","setState","document","querySelector","scrollTop","scrollHeight","addMessage","e","target","textContent","sendMessage","length","emit","room","props","roomId","name","username","innerHTML","componentWillUnmount","off","componentDidMount","open","openChat","map","item","index","mapDispatchToProps","dispatch","loginAthification","type","mapstateToProps","connected"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport {withRouter} from \"react-router-dom\"\nimport { IoCloseSharp ,IoSendSharp} from \"react-icons/io5\";\nimport {connect} from \"react-redux\"\nimport socket from \"../socketconf\";\nclass Chat extends Component {\n    state={\nchat:[],\nmessage:\"\"\n    }\n\n    realTimeMessage=()=>{\nsocket.on(\"new-meesage\",(data)=>{\n    console.log(data)\n    let messages= this.state.chat\n    messages.push(data)\n    this.setState({\n        chat:messages\n    },()=>{\n        document.querySelector(\"#chat-content\").scrollTop = document.querySelector(\"#chat-content\").scrollHeight\n    })\n})\n    }\n    addMessage=(e)=>{\nthis.setState({\n    message:e.target.textContent\n})\n    }\n    sendMessage=()=>{\n        if(this.state.message.length>0){\n        socket.emit(\"message\",{room:this.props.roomId,message:this.state.message,name:this.props.username})\n        this.setState({\n            message:\"\"\n        })\n        document.querySelector(\".hold-message\").innerHTML=\"\"\n        }\n\n    }\n    componentWillUnmount=()=>{\n        socket.off(\"new-meesage\")\n    }\n    componentDidMount=()=>{\n        this.realTimeMessage()\n        this.setState({\n            message:`${this.props.username} just join`\n        },()=>{\n            this.sendMessage()\n        })\n\n    }\n    render(){\n        return (\n            <div className={`char0-box-class ${this.props.open?\"active\":\"\"}`}>\n            <div id=\"chat-box\">\n             <div id=\"head-chat\">\n        <button onClick={()=>{this.props.openChat(!this.props.open)}} className=\"close-chat\">\n      <IoCloseSharp/>\n       </button>\n       <p>CHAT ROOM</p>\n        </div>\n       <div id=\"chat-content\">  \n       {this.state.chat?.map((item,index)=>{\n           return(\n            <div key={index} className=\"char-room-box\">\n           {/*<div className=\"icon\"></div>*/}\n           <div className=\"wraprtt\">\n               <div className=\"name-people\"> {item.name}</div>\n               <div className=\"conversationt\"> \n               {item.message}\n               </div>\n           </div>\n       </div>\n           )\n       })}\n     \n       </div> \n       <div className=\"type-message-box\">\n\t\t\t\t<div className=\"watpr-contnr-mem\">\n\t\t\t\t\t<div className=\"wrappe-mmeshe\">\n\t\t\t\t\t<div contentEditable=\"true\"   suppressContentEditableWarning={true} onKeyUp={this.addMessage} data-placeholder=\"Type a message...\" className=\"hold-message noped\"></div>\n                    <div className=\"send-hold fnjjrjr\"><button onClick={this.sendMessage} ><IoSendSharp/></button></div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n            </div>\n        \n            </div>\n        )\n    }\n}\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n      loginAthification:(data)=>{\n        dispatch({ type:\"JOIN\", data:data})\n      },\n      \n    }\n      }\n      const mapstateToProps=(state)=>{\n        return{\n            connected:state.connected,\n            username:state.username,\n            roomId:state.roomId\n        }\n        }\n    export default  connect(mapstateToProps,mapDispatchToProps) (withRouter(Chat))"]},"metadata":{},"sourceType":"module"}